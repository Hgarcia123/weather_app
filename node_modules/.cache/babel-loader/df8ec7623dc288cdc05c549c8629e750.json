{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport WeatherCards from \"./Components/weatherCards\";\nimport { useEffect, useState } from \"react\";\nimport { Oval } from \"react-loader-spinner\";\nimport $ from \"jquery\";\nimport { CountryDropdown, RegionDropdown } from \"react-country-region-selector\";\nimport axios from \"axios\";\n\nconst App = () => {\n  _s();\n\n  const [weather, setWeather] = useState({});\n  const [country, setCountry] = useState(\"PT\");\n  const [region, setRegion] = useState(\"Lisboa\");\n  const [time, setTime] = useState(0);\n\n  const fetchWeather = async () => {\n    console.log(country);\n    return axios.post('http://localhost:8000/weather', {\n      regionReq: `${region}`,\n      countryReq: `${country}`\n    }).then(async response => {\n      const data = await response.data;\n      console.log(data);\n      return data;\n    }).catch(error => {\n      console.error(\"Error!\", error);\n    });\n  };\n\n  const getWeather = async () => {\n    const weatherApi = await fetchWeather();\n    setWeather(weatherApi);\n  };\n\n  useEffect(() => {\n    //Clear weather array\n    setWeather({}); //API request for weather info\n\n    getWeather(); //Refresh page every 5 minutes\n\n    const interval = setInterval(() => {\n      setTime(time + 1);\n    }, 350000);\n    return () => clearInterval(interval);\n  }, [time, region]);\n};\n\n_s(App, \"D3dnC9rwDJTF+jg0bYtvVgPknDE=\");\n\n_c = App;\nexport default App; // function App() {\n//   return (\n//     <div className=\"App\">\n//       <header className=\"App-header\">\n//         <img src={logo} className=\"App-logo\" alt=\"logo\" />\n//         <p>\n//           Edit <code>src/App.js</code> and save to reload.\n//         </p>\n//         <a\n//           className=\"App-link\"\n//           href=\"https://reactjs.org\"\n//           target=\"_blank\"\n//           rel=\"noopener noreferrer\"\n//         >\n//           Learn React\n//         </a>\n//       </header>\n//     </div>\n//   );\n// }\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/henrique.garcia/React JS Projects/weather_app/src/App.js"],"names":["WeatherCards","useEffect","useState","Oval","$","CountryDropdown","RegionDropdown","axios","App","weather","setWeather","country","setCountry","region","setRegion","time","setTime","fetchWeather","console","log","post","regionReq","countryReq","then","response","data","catch","error","getWeather","weatherApi","interval","setInterval","clearInterval"],"mappings":";;AAAA,OAAO,WAAP;AACA,OAAOA,YAAP,MAAyB,2BAAzB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,IAAT,QAAqB,sBAArB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,eAAT,EAA0BC,cAA1B,QAAgD,+BAAhD;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAAA;;AAChB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACW,MAAD,EAASC,SAAT,IAAsBZ,QAAQ,CAAC,QAAD,CAApC;AACA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,CAAD,CAAhC;;AAEA,QAAMe,YAAY,GAAG,YAAY;AAC/BC,IAAAA,OAAO,CAACC,GAAR,CAAYR,OAAZ;AAEA,WAAOJ,KAAK,CACTa,IADI,CACC,+BADD,EACkC;AACrCC,MAAAA,SAAS,EAAE,GAAER,MAAO,EADiB;AAErCS,MAAAA,UAAU,EAAE,GAAEX,OAAQ;AAFe,KADlC,EAKJY,IALI,CAKC,MAAOC,QAAP,IAAoB;AACxB,YAAMC,IAAI,GAAG,MAAMD,QAAQ,CAACC,IAA5B;AACAP,MAAAA,OAAO,CAACC,GAAR,CAAYM,IAAZ;AACA,aAAOA,IAAP;AACD,KATI,EAUJC,KAVI,CAUGC,KAAD,IAAW;AAChBT,MAAAA,OAAO,CAACS,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACD,KAZI,CAAP;AAaD,GAhBD;;AAkBA,QAAMC,UAAU,GAAG,YAAY;AAC7B,UAAMC,UAAU,GAAG,MAAMZ,YAAY,EAArC;AACAP,IAAAA,UAAU,CAACmB,UAAD,CAAV;AACD,GAHD;;AAKA5B,EAAAA,SAAS,CAAC,MAAM;AACd;AACAS,IAAAA,UAAU,CAAC,EAAD,CAAV,CAFc,CAId;;AACAkB,IAAAA,UAAU,GALI,CAOd;;AACA,UAAME,QAAQ,GAAGC,WAAW,CAAC,MAAM;AACjCf,MAAAA,OAAO,CAACD,IAAI,GAAG,CAAR,CAAP;AACD,KAF2B,EAEzB,MAFyB,CAA5B;AAGA,WAAO,MAAMiB,aAAa,CAACF,QAAD,CAA1B;AACD,GAZQ,EAYN,CAACf,IAAD,EAAOF,MAAP,CAZM,CAAT;AAaD,CA1CD;;GAAML,G;;KAAAA,G;AA4CN,eAAeA,GAAf,C,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import \"./App.css\";\r\nimport WeatherCards from \"./Components/weatherCards\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Oval } from \"react-loader-spinner\";\r\nimport $ from \"jquery\";\r\nimport { CountryDropdown, RegionDropdown } from \"react-country-region-selector\";\r\nimport axios from \"axios\";\r\n\r\nconst App = () => {\r\n  const [weather, setWeather] = useState({});\r\n  const [country, setCountry] = useState(\"PT\");\r\n  const [region, setRegion] = useState(\"Lisboa\");\r\n  const [time, setTime] = useState(0);\r\n\r\n  const fetchWeather = async () => {\r\n    console.log(country);\r\n\r\n    return axios\r\n      .post('http://localhost:8000/weather', {\r\n        regionReq:`${region}`,\r\n        countryReq:`${country}`\r\n     })\r\n      .then(async (response) => {\r\n        const data = await response.data;\r\n        console.log(data);\r\n        return data;\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error!\", error);\r\n      });\r\n  };\r\n\r\n  const getWeather = async () => {\r\n    const weatherApi = await fetchWeather();\r\n    setWeather(weatherApi);\r\n  };\r\n\r\n  useEffect(() => {\r\n    //Clear weather array\r\n    setWeather({});\r\n    \r\n    //API request for weather info\r\n    getWeather();\r\n\r\n    //Refresh page every 5 minutes\r\n    const interval = setInterval(() => {\r\n      setTime(time + 1);\r\n    }, 350000);\r\n    return () => clearInterval(interval);\r\n  }, [time, region]);\r\n}\r\n\r\nexport default App;\r\n// function App() {\r\n//   return (\r\n//     <div className=\"App\">\r\n//       <header className=\"App-header\">\r\n//         <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n//         <p>\r\n//           Edit <code>src/App.js</code> and save to reload.\r\n//         </p>\r\n//         <a\r\n//           className=\"App-link\"\r\n//           href=\"https://reactjs.org\"\r\n//           target=\"_blank\"\r\n//           rel=\"noopener noreferrer\"\r\n//         >\r\n//           Learn React\r\n//         </a>\r\n//       </header>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}